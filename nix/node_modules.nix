{ src
, nodejs
, electron
}:
{ npmlock2nix
, stdenv
, ...
}:

let
  inherit (stdenv) isLinux;
in

npmlock2nix.node_modules {
  inherit src nodejs;

  npmCmd = "npm ci --ignore-scripts --offline";

  preInstallLinks = {
    "electron" = {
      "dist" = "${electron}/lib/electron";
    };
  };
}
